### new HashMap() 会发生什么？
> new HashMap(); 默认大小是16，负载因子大小0.75
>  指定大小，如果传入7，实际大小8，传入10，实际大小16，大小只能是2次幂

### HashMap 大小为什么只能是2次幂
> 因为只有大小是2次幂，才能合理用位运算替代取模
> hashMap 用位运算来代替取模，更高效算出元素所在位置


### map put怎么计算哈希值
> 通过hash方法算出正常哈希值，然后与高16位做异或运算，产出最终哈希值
>
> 这样做的好处增加了随机性，减少碰撞冲突的可能性
>

### HashMap 什么情况会用到红黑树,什么时候出现链表

> 当数组大小大于64，且链表大小小于8的时候才会将链表改成红黑树
>
> 当数组大小大于64 且红黑树大小为6时，会退化成链表
>

### ConcurrentHashMap 底层数组+链表/红黑树，线程安全
> ConcurrentHashMap put操作通过部分加锁和CAS算法实现同步，get操作不加锁 
>
> Node 节点使用了volatile 关键词修饰
>
> 扩容时会给每个线程分配对应的区间，并且防止putVal导致数据不一致，会给线程负责的区间加锁
>
>
### HashMap是线程不安全的，其主要体现：
在jdk1.7中，在多线程环境下，扩容时会造成环形链或数据丢失。

> - 在jdk1.8中，在多线程环境下，会发生数据覆盖的情况。


[不等于](www.baidu.com)


##

